<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="703px" height="761px" viewBox="-0.5 -0.5 703 761"><defs/><g><rect x="56" y="96" width="590" height="450" fill="none" stroke="#ffd966" stroke-width="4" pointer-events="all"/><rect x="56" y="616" width="590" height="80" fill="none" stroke="#66ff66" stroke-width="4" pointer-events="all"/><rect x="16" y="16" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 76 76 L 76 729.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 76 734.88 L 72.5 727.88 L 76 729.63 L 79.5 727.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="566" y="16" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 626 76 L 626 729.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 626 734.88 L 622.5 727.88 L 626 729.63 L 629.5 727.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="96" y="136" width="410" height="170" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 408px; height: 1px; padding-top: 221px; margin-left: 98px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">GET /chat HTTP/1.1<br style="font-size: 17px;" /> Host: server.example.com<br style="font-size: 17px;" /><span style="background-color: rgb(151, 208, 119);"> Upgrade: websocket</span><br style="font-size: 17px;" /><span style="background-color: rgb(151, 208, 119);"> Connection: Upgrade</span><br style="font-size: 17px;" /><span style="background-color: rgb(255, 0, 0);"> Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==</span><br style="font-size: 17px;" /> Origin: http://example.com<br style="font-size: 17px;" /> Sec-WebSocket-Protocol: chat, superchat<br style="font-size: 17px;" /><span style="background-color: rgb(151, 208, 119);"> Sec-WebSocket-Version: 13</span></div></div></div></foreignObject></g><path d="M 96 126 L 599.63 126" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 604.88 126 L 597.88 129.5 L 599.63 126 L 597.88 122.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="96" y="416" width="481" height="110" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 479px; height: 1px; padding-top: 471px; margin-left: 98px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">HTTP/1.1 <span style="background-color: rgb(151, 208, 119);">101</span> Switching Protocols<br /><span style="background-color: rgb(151, 208, 119);"> Upgrade: websocket</span><br /><span style="background-color: rgb(151, 208, 119);"> Connection: Upgrade</span><br /><span style="background-color: rgb(255, 0, 0);"> Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=<br /></span>Sec-WebSocket-Protocol: chat<span style="background-color: rgb(255, 0, 0);"><br /></span></div></div></div></foreignObject></g><path d="M 606 406 L 102.37 406" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 97.12 406 L 104.12 402.5 L 102.37 406 L 104.12 409.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 102.37 636 L 599.63 636" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 97.12 636 L 104.12 632.5 L 102.37 636 L 104.12 639.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 604.88 636 L 597.88 639.5 L 599.63 636 L 597.88 632.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="277" y="656" width="146" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 144px; height: 1px; padding-top: 666px; margin-left: 278px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Websocket Frame</div></div></div></foreignObject></g><rect x="56" y="36" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 46px; margin-left: 57px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Client</div></div></div></foreignObject></g><rect x="606" y="36" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 46px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Server</div></div></div></foreignObject></g><rect x="260" y="56" width="180" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 66px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1. 基于http的握手协议</div></div></div></foreignObject></g><rect x="260" y="576" width="246" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 244px; height: 1px; padding-top: 586px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">2. 基于Websocket的二进制协议</div></div></div></foreignObject></g></g></svg>